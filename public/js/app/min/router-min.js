define(["knockout","crossroads","hasher"],function(e,i,t){function a(t){var a=this.currentRoute=e.observable({});e.utils.arrayForEach(t.routes,function(t){i.addRoute(t.url,function(i){a(e.utils.extend(i,t.params))})}),o()}function o(){function e(){$("div[role='main']").removeClass("itemopen"),$("body").css("overflow","visible"),$("section.notification").removeClass("open"),$(".action").removeClass("active");var e=$(".main .menu");e.hasClass("visible")&&(e.toggleClass("visible"),$(".mobilemenu").toggleClass("active"))}function a(){document.body.scrollTop=document.documentElement.scrollTop=0}function o(e,t){if(t)if(0===t.indexOf("provider/")){var a=$(window).scrollTop();t=t.substring(9),t=t.substring(0,t.indexOf("/")),sessionStorage.setItem("provider"+t,a)}else if(0===t.indexOf("collectionview/")){var a=$(window).scrollTop();t=t.substring(15),-1!=t.indexOf("/")&&(t=t.substring(0,t.indexOf("/"))),sessionStorage.setItem("collection-viewscroll"+t,a)}i.parse(e)}i.ignoreState=!0,i.normalizeFn=i.NORM_AS_OBJECT,t.initialized.add(o),t.changed.add(o),t.changed.add(e),t.changed.add(a),t.init()}return new a({routes:[{url:"",params:{page:"home-page",title:"Home"}},{url:"home",params:{page:"home-page",title:"Home"}},{url:"dashboard",params:{page:"dashboard",title:"Dashboard"}},{url:"search",params:{page:"search-page",title:"Search"}},{url:"login",params:{page:"login-page",title:"Login"}},{url:"profile",params:{page:"profile",title:"Profile"}},{url:"mycollections",params:{page:"mycollections",title:"My Collections",showsExhibitions:!1}},{url:"myexhibitions",params:{page:"mycollections",title:"My Exhibitions",showsExhibitions:!0}},{url:"register",params:{page:"register-page",title:"Register"}},{url:"email",params:{page:"email-page",title:"Register"}},{url:"item/{id}",params:{page:"itemview",title:"Media Item"}},{url:"collect/{id}",params:{page:"item-view",title:"Collect"}},{url:"collectionview/{id}",params:{page:"collection-view",title:"Collection View",type:"collection"}},{url:"collectionview/{id}/count/{count}",params:{page:"collection-view",title:"Collection View",type:"collection"}},{url:"exhibitionview/{id}",params:{page:"exhibition-view",title:"Exhibition View"}},{url:"reset/{token}",params:{page:"new-password",title:"Reset Password"}},{url:"exhibition-edit",params:{page:"exhibition-edit",title:"Exhibition Edit"}},{url:"exhibition-edit/{id}",params:{page:"exhibition-edit",title:"Exhibition Edit"}},{url:"apidoc",params:{page:"api-docu",title:"API Documentation"}},{url:"testsearch",params:{page:"testsearch",title:"testsearch"}},{url:"import-collections",params:{page:"import-collections",title:"import-collections"}},{url:"myfavorites",params:{page:"myfavorites",title:"My Favorites",type:"favorites"}},{url:"gallery/{id}/{skin}",params:{page:"3DRoom",title:"Gallery View"}},{url:"organization/{id}",params:{page:"group-page",title:"Organization",type:"organization"}},{url:"organization/{id}/edit",params:{page:"organization-edit",title:"Edit Organization",type:"organization",name:"Organization"}},{url:"project/{id}/edit",params:{page:"organization-edit",title:"Edit Project",type:"project",name:"Project"}},{url:"organization/{id}/count/{count}",params:{page:"group-page",title:"Organization",type:"organization"}},{url:"organizations",params:{page:"organizations",title:"Organizations",type:"Organization"}},{url:"projects",params:{page:"organizations",title:"Projects",type:"Project"}},{url:"project/{id}",params:{page:"group-page",title:"Project",type:"project"}},{url:"notifications",params:{page:"notifications-page",title:"Notifications"}}]})});