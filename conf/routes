# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
#GET     /                          controllers.Application.index()
GET     /                           controllers.Default.redirect(to="assets/index.html")

POST     /api/advancedsearch        controllers.SearchController.searchwithfilter()
POST     /api/testsearch            controllers.SearchController.posttestsearch()

#Autocomplete
GET		/api/autocompleteExt		controllers.AutocompleteController.autocompleteExt(term:java.lang.String,limit:Integer,source:java.util.List[java.lang.String])

# Map static resources from the /public folder to the /assets URL path
GET 	/assets/headers.js						controllers.FilterUtils.withAjaxScript
GET     /assets/*file               			controllers.Assets.at(path="/public", file)
GET 	/custom/:customName					    controllers.CustomAssets.redirect( customName )
GET 	/custom/:customName/					controllers.CustomAssets.redirect( customName )
GET 	/custom/:customName/*file				controllers.CustomAssets.getFile( customName:String, file:String )


# Collection Controller (tested except some methods)
GET 	 /collection/list						controllers.CollectionController.list(loggedInUserAccess ?= "READ", directlyAccessedByUserName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], recursivelyAccessedByUserName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], directlyAccessedByGroupName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], recursivelyAccessedByGroupName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], isPublic: play.libs.F.Option[java.lang.Boolean], isExhibition: play.libs.F.Option[java.lang.Boolean], offset: Integer ?=0, count: Integer ?=10)
GET 	 /collection/listShared					controllers.CollectionController.listShared(direct: Boolean ?= true, directlyAccessedByUserName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], recursivelyAccessedByUserName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], directlyAccessedByGroupName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], recursivelyAccessedByGroupName: play.libs.F.Option[controllers.parameterTypes.MyPlayList], isExhibition: play.libs.F.Option[java.lang.Boolean], offset: Integer ?=0, count: Integer ?=10)
POST     /collection/create                     controllers.CollectionController.createCollection()
POST     /collection/listByUser			        controllers.CollectionController.listFirstRecordsOfUserCollections()
POST     /collection/:id/addRecord              controllers.CollectionController.addRecordToCollection(id)
DELETE   /collection/:id/removeRecord           controllers.CollectionController.removeRecordFromCollection(id, recId)
GET      /collection/:id/list		   	        controllers.CollectionController.listCollectionRecords(id, format: String ?="default", start: Integer ?=0, count: Integer ?=10)
POST 	 /collection/:id/edit					controllers.CollectionController.editCollection(id)
GET		 /collection/favorites					controllers.CollectionController.getFavorites()
POST     /collection/liked			            controllers.CollectionController.addToFavorites()
DELETE   /collection/unliked/:recId			    controllers.CollectionController.removeFromFavorites(recId)
GET		 /collection/favoriteCollection			controllers.CollectionController.getFavoriteCollection()

# Cache Controller
GET		 /cache/byUrl							controllers.CacheController.getImage(url, thumbnail: Boolean ?= true)
DELETE   /cache/clear							controllers.CacheController.clearCache()

# Exhibition Controller
POST     /exhibition/create                     controllers.ExhibitionController.createExhibition()
#GET		 /exhibition/list					controllers.ExhibitionController.listMyExhibitions(offset: Integer ?=0, count: Integer ?=10)

#Not Implemented
GET      /collection/:id/listUsers				controllers.CollectionController.listUsersWithRights(id)
GET 	 /collection/:id/download				controllers.CollectionController.download(id)
GET	     /collection/:id 	        			controllers.CollectionController.getCollection(id)
POST	 /collection/:id 						controllers.CollectionController.editCollection(id)
DELETE   /collection/:id	                    controllers.CollectionController.deleteCollection(id)

# Record Controller (tested)
GET		/record/merged/:externalId  			controllers.RecordController.getMergedRecord(externalId)
GET		/record/:id								controllers.RecordController.getRecord(id, format: play.libs.F.Option[String])
PUT 	/record/:id								controllers.RecordController.updateRecord(id, format ?= null)
DELETE	/record/:id								controllers.RecordController.deleteRecord(id, format: String ?="XML-EDM")

#Group Manager
POST	/group/create							controllers.GroupManager.createGroup(adminId: String ?=null, adminUsername: String ?=null, groupType: String ?="UserGroup")
POST	/organization/create					controllers.GroupManager.createGroup(adminId: String ?=null, adminUsername: String ?=null, groupType: String ?="Organization")
POST	/project/create							controllers.GroupManager.createGroup(adminId: String ?=null, adminUsername: String ?=null, groupType: String ?="Project")
PUT		/group/:id								controllers.GroupManager.editGroup(id)
DELETE 	/group/:id								controllers.GroupManager.deleteGroup(id)
GET		/group/:id								controllers.GroupManager.getGroup(id)
PUT		/group/addUserOrGroup/:groupId			controllers.UserAndGroupManager.addUserOrGroupToGroup(id: String ?=null, groupId)
PUT		/group/removeUser/:groupId				controllers.GroupManager.removeUserFromGroup(userId: String ?=null, groupId)
GET		/group/findByGroupName					controllers.GroupManager.findByGroupName(name, collectionId)
GET		/group/descendantGroups/:groupId		controllers.GroupManager.getDescendantGroups(groupId, groupType: String  ?="All", direct: Boolean ?=true)
GET		/group/descendantOrganizations/:groupId	controllers.GroupManager.getDescendantGroups(groupId, groupType: String  ?="Organization", direct: Boolean ?=true)
GET		/group/descendantProjects/:groupId		controllers.GroupManager.getDescendantGroups(groupId, groupType: String  ?="Project", direct: Boolean ?=true)


# Rights Controller
#GET 	/rights/list							controllers.RightsController.listRights(ownerId: String ?="")
GET 	/rights/:colId/:right					controllers.RightsController.setRights(colId, right, username: String ?=null, email: String ?=null, userId: String ?=null)

# Media Controller
POST	/media/create							controllers.MediaController.createMedia( file: Boolean ?= true)
GET 	/media/:id								controllers.MediaController.getMetadataOrFile(id, file: Boolean ?=true)
POST 	/media/:id 								controllers.MediaController.editMetadataOrFile(id, file: Boolean ?=false)
DELETE 	/media/:id								controllers.MediaController.deleteMedia(id)

# User Manager Controller

POST	/user/register						    controllers.UserManager.register()
POST	/user/login							    controllers.UserManager.login()
GET		/user/logout						    controllers.UserManager.logout()
# both users and groups
GET		/user/listNames			                controllers.UserAndGroupManager.listNames(prefix:java.lang.String ?= "")
GET		/user/emailAvailable	                controllers.UserManager.emailAvailable(email:java.lang.String)
GET		/user/token				                controllers.UserManager.getToken()
GET 	/user/loginWithToken	                controllers.UserManager.loginWithToken( token: java.lang.String )
GET     /user/findByUserOrGroupNameOrEmail		controllers.UserAndGroupManager.findByUserOrGroupNameOrEmail(userOrGroupNameOrEmail: String, collectionId ?= null)
GET		/user/:id/photo			                controllers.UserAndGroupManager.getUserOrGroupThumbnail(id)
GET		/user/:id				                controllers.UserManager.getUser(id)
PUT		/user/:id				                controllers.UserManager.editUser(id)
DELETE	/user/:id				                controllers.UserManager.deleteUser(id)
GET		/user/resetPassword/:emailOrUserName	controllers.UserManager.resetPassword(emailOrUserName: String)
POST	/user/changePassword					controllers.UserManager.changePassword()
GET		/user/apikey/create						controllers.UserManager.apikey()


# trigger reindex (for development / admin )

GET	/api/reindex		controllers.SearchController.reindex()
